(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.index={})})(this,function(a){'use strict';function b(a,b){function c(){window.location.hash="#!"}function d(a){t.forEach(function(b){return b.setAttribute("tabindex",a)})}function h(){window.removeEventListener("keydown",j)}function i(){window.addEventListener("keydown",j)}function j(a){27===a.keyCode&&l(),9===a.keyCode&&(a.shiftKey&&document.activeElement===w.first?(a.preventDefault(),w.last.focus()):document.activeElement===w.last&&(a.preventDefault(),w.first.focus()))}function k(a){a&&u.disableEvents&&a.preventDefault(),x=window.scrollY,p.setAttribute("aria-hidden",!1),d(0),p.classList.add(u.activeClass),e.push(q),s.forEach(function(a){return a.classList.add(u.activeClass)}),u.disableScroll&&document.documentElement.classList.add("no-scroll"),u.onOpen&&u.onOpen(p,a),u.hashHistory&&(window.location.hash="#".concat(q)),!u.preserve&&f&&f.close(),i(),f=v}function l(a){a&&u.disableEvents&&a.preventDefault(),p.setAttribute("aria-hidden",!0),d(-1),h(),p.classList.remove(u.activeClass),e.pop(),0===e.length?(c(),u.disableScroll&&(document.documentElement.classList.remove("no-scroll"),setTimeout(function(){window.scrollBy(0,x),x=0},1))):u.hashHistory&&(window.location.hash="#".concat(e[e.length-1])),s.forEach(function(a){return a.classList.remove(u.activeClass)}),u.onClose&&u.onClose(p,a),u.preserve||(f=null)}function m(a){a.preventDefault(),p.classList.contains(u.activeClass)?l(a):k(a)}function n(){p.setAttribute("aria-hidden",!0),r.forEach(function(a){return a.setAttribute("aria-label","Fechar")}),d(-1)}function o(){s.forEach(function(a){return a.addEventListener("click",m)}),r.forEach(function(a){return a.addEventListener("click",m)})}var p=a,q=p.getAttribute("id"),r=Array.from(p.querySelectorAll("[data-halley-modal-close]")),s=Array.from(document.querySelectorAll("[href=\"#".concat(q,"\"]"))),t=Array.from(p.querySelectorAll("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex=\"0\"], [contenteditable]")),u=Object.assign({},g,b),v={elm:p,nameModal:q,toggleModal:m,open:k,close:l},w={first:t[0],last:t[t.length-1]},x=0;return function(){o(),n(),window.location.hash==="#".concat(q)&&(k(),u.onStartOpen&&u.onStartOpen.call(p,event))}(),v}var c=a=>"string"==typeof a?document.querySelector(a):a;const d=a=>"object"==typeof a?a:Array.from(document.querySelectorAll(a));var e=[],f=null,g={hashHistory:!0,disableScroll:!1,disableEvents:!0,activeClass:"active"};a.default=function(a,d){var e=c(a);return b(e,d)},a.init=function(a,c){var e=d(a);return e.map(function(a){return b(a,c)})},Object.defineProperty(a,"__esModule",{value:!0})});
