(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.index={})})(this,function(a){'use strict';function b(a,b){function c(){window.location.hash="#!"}function d(a){s.forEach(function(b){return b.setAttribute("tabindex",a)})}function h(){o.addEventListener("keydown",i)}function i(a){27===a.keyCode&&k(),9===a.keyCode&&(a.shiftKey&&document.activeElement===v.first?(a.preventDefault(),v.last.focus()):document.activeElement===v.last&&(a.preventDefault(),v.first.focus()))}function j(a){a&&t.disableEvents&&a.preventDefault(),w=window.scrollY,o.setAttribute("aria-hidden",!1),d(0),o.classList.add(t.activeClass),e.push(p),r.forEach(function(a){return a.classList.add(t.activeClass)}),t.disableScroll&&document.documentElement.classList.add("no-scroll"),t.onOpen&&t.onOpen(o,a),t.hashHistory&&(window.location.hash="#".concat(p)),!t.preserve&&f&&f.close(),h(),f=u}function k(a){a&&t.disableEvents&&a.preventDefault(),o.setAttribute("aria-hidden",!0),d(-1),o.classList.remove(t.activeClass),e.pop(),0===e.length?(c(),t.disableScroll&&(document.documentElement.classList.remove("no-scroll"),setTimeout(function(){window.scrollBy(0,w),w=0},1))):t.hashHistory&&(window.location.hash="#".concat(e[e.length-1])),r.forEach(function(a){return a.classList.remove(t.activeClass)}),t.onClose&&t.onClose(o,a),t.preserve||(f=null)}function l(a){a.preventDefault(),o.classList.contains(t.activeClass)?k(a):j(a)}function m(){o.setAttribute("aria-hidden",!0),q.forEach(function(a){return a.setAttribute("aria-label","Fechar")}),d(-1)}function n(){r.forEach(function(a){return a.addEventListener("click",l)}),q.forEach(function(a){return a.addEventListener("click",l)})}var o=a,p=o.getAttribute("id"),q=Array.from(o.querySelectorAll("[data-halley-modal-close]")),r=Array.from(document.querySelectorAll("[href=\"#".concat(p,"\"]"))),s=Array.from(o.querySelectorAll("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex=\"0\"], [contenteditable]")),t=Object.assign({},g,b),u={elm:o,nameModal:p,toggleModal:l,open:j,close:k},v={first:s[0],last:s[s.length-1]},w=0;return function(){n(),m(),window.location.hash==="#".concat(p)&&(j(),t.onStartOpen&&t.onStartOpen.call(o,event))}(),u}var c=a=>"string"==typeof a?document.querySelector(a):a;const d=a=>"object"==typeof a?a:Array.from(document.querySelectorAll(a));var e=[],f=null,g={hashHistory:!0,disableScroll:!1,disableEvents:!0,activeClass:"active"};a.default=function(a,d){var e=c(a);return b(e,d)},a.init=function(a,c){var e=d(a);return e.map(function(a){return b(a,c)})},Object.defineProperty(a,"__esModule",{value:!0})});
