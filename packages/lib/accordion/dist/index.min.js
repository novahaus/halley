(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.index={})})(this,function(a){'use strict';function b(a,b){function c(){clearTimeout(p),p=setTimeout(function(){d()},100)}function d(){if(0<=o){var a=n[o].content.firstElementChild.offsetHeight;n[o].content.style.maxHeight="".concat(a,"px")}}function g(a,b){var c=n[b].content.firstElementChild.offsetHeight;n[b].content.style.maxHeight="".concat(c,"px"),n[b].holder.classList.add(m.activeClass),n[b].button.classList.add(m.activeClass),m.onOpen&&m.onOpen.call(n[b],a),0<=o&&m.toggleClick&&h(null,o),n[b].isOpened=!0,o=b}function h(a,b){n[b].content.style.maxHeight=0,n[b].holder.classList.remove(m.activeClass),n[b].isOpened=!1,m.onClose&&m.onClose.call(n[b],a),o=-1}function i(a,b){n[b].isOpened?h(a,b):g(a,b)}function j(){m.listenerResize&&window.addEventListener("resize",c),n.forEach(function(a,b){return a.button.addEventListener("click",function(a){return i(a,b)})})}function k(){n.forEach(function(a){a.holder.classList.add("halley-accordion-item"),a.content.classList.add("halley-accordion-content")})}var l=Array.from(a.children),m=Object.assign({},e,b),n=f(l),o=-1,p=null;return function(){j(),k()}(),{elements:n,getActive:function(){return n[o]},open:function(a){return g(null,a)},close:function(a){return h(null,a)}}}var c=a=>"string"==typeof a?document.querySelector(a):a;const d=a=>"object"==typeof a?a:Array.from(document.querySelectorAll(a));var e={toggleClick:!0,activeClass:"active",listenerResize:!0},f=function(a){return a.map(function(a,b){return{holder:a,button:a.querySelector("[halley-accordion-btn]"),content:a.querySelector("[halley-accordion-content]"),isOpened:!1,index:b}})};a.default=function(a,d){var e=c(a);return b(e,d)},a.init=function(a,c){var e=d(a);return e.map(function(a){return b(a,c)})},Object.defineProperty(a,"__esModule",{value:!0})});
